<div class="panel panel-primary">
  <div class="panel-heading">Template driven forms</div>
  <div class="panel-body">
    <form (ngSubmit)="saveUser(userForm.value)" #userForm="ngForm">

      <div class="form-group" [ngClass]="{'has-error':!firstnameVar.valid && firstnameVar.touched}">
        <label class="control-label">Firstname</label>
        <input type="text" class="form-control" placeholder="Firstname" [(ngModel)]="user.firstname" name="firstname" 
        required minlength="5" 
        #firstnameVar="ngModel"/>
        <div *ngIf="!firstnameVar.valid && firstnameVar.touched" >
          <div class="alert alert-danger" *ngIf="firstnameVar.errors.required">
            Please fill in firstname
          </div>
          <div class="alert alert-danger" *ngIf="firstnameVar.errors.minlength">
            Firstname needs to be 5 characters long.
          </div>
        </div>
      </div>

      <div class="form-group" [ngClass]="{'has-error':!lastnameVar.valid && lastnameVar.touched}">
          <label class="control-label">Lastname</label>
          <input type="text" class="form-control" placeholder="Lastname" [(ngModel)]="user.lastname" name="lastname" 
          required minlength="5" 
          #lastnameVar="ngModel"/>
          <div *ngIf="!lastnameVar.valid && lastnameVar.touched" >
            <div class="alert alert-danger" *ngIf="lastnameVar.errors.required">
              Please fill in lastname
            </div>
            <div class="alert alert-danger" *ngIf="lastnameVar.errors.minlength">
              Lastname needs to be 5 characters long.
            </div>
          </div>
      </div>

      <div class="form-group" [ngClass]="{'has-error':!emailVar.valid && emailVar.touched}">
          <label class="control-label">Email</label>
          <input type="text" class="form-control" placeholder="Email" [(ngModel)]="user.email" name="email" 
          required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
          #emailVar="ngModel"/>
          <div *ngIf="!emailVar.valid && emailVar.touched" >
            <div class="alert alert-danger" *ngIf="emailVar.errors.required">
              Please fill in email
            </div>
            <div class="alert alert-danger" *ngIf="emailVar.errors.pattern">
                Please fill in valid email!!!
            </div>
          </div>
      </div>
      
      
      <!-- [disabled]="!userForm.valid"  => disable the button when there is no valid input-->
      <button class="btn btn-primary" [disabled]="!userForm.valid">Save</button>

    </form>
  </div>
</div>
